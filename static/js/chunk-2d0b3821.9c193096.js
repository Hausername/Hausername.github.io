(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b3821"],{2959:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"1rem"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"订单号查询:"}},[a("el-input",{attrs:{size:"small",placeholder:"订单号",icon:"circle-close","on-icon-click":e.handleOrderIconClick},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.orderId,callback:function(t){e.$set(e.filters,"orderId",t)},expression:"filters.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户手机号:"}},[a("el-input",{attrs:{size:"small",placeholder:"手机号",icon:"circle-close","on-icon-click":e.handleOrderIconClick},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.mobile,callback:function(t){e.$set(e.filters,"mobile",t)},expression:"filters.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"修改时间:"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.startUpTime,callback:function(t){e.$set(e.filters,"startUpTime",t)},expression:"filters.startUpTime"}}),e._v("\n        -\n        "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.endUpTime,callback:function(t){e.$set(e.filters,"endUpTime",t)},expression:"filters.endUpTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:function(t){return e.search()}}},[e._v("查询")])],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download"},on:{click:function(t){return e.orderOut()}}},[e._v("订单导出")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"orderList",staticStyle:{"margin-top":"1rem"},attrs:{data:e.list,align:"center",size:"small","tooltip-effect":"dark",border:""}},[a("el-table-column",{attrs:{type:"selection",width:"55",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderId",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"客户手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acceptMobile",label:"收货手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"logisticsNumber",label:"快递单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acceptName",label:"收货人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"logisticsUpTime",label:"修改时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"配送地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusName",label:"订单状态"}})],1),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"2rem"}},[a("el-col",{staticClass:"toolbar",attrs:{span:12}},[a("el-pagination",{attrs:{"page-sizes":[10,20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},i=[],r=a("323e"),s=a.n(r),n=a("c1df"),o=a.n(n),c=a("da29"),d={name:"goodsRecord",data:function(){return{filters:{orderId:null,mobile:null,logisticsUpTime:null,startUpTime:null,endUpTime:null},listLoading:!1,list:[],total:0,size:10,pageNo:1}},mounted:function(){this.getList()},methods:{search:function(){this.pageNo=1,this.getList()},querySearchAsync:function(e,t){var a=this,l={orderId:this.filters.orderId};Object(c["xb"])(l).then((function(e){0===e.data.code&&(a.restaurants=e.data.Data,a.restaurants.map((function(e){e.value=e.username})),clearTimeout(a.timeout),a.timeout=setTimeout((function(){t(a.restaurants)}),1e3*Math.random()))}))},getList:function(){var e=this;null!=this.filters.startUpTime&&(this.filters.startUpTime=o()(this.filters.startUpTime).format("YYYY-MM-DD 00:00:00")),null!=this.filters.endUpTime&&(this.filters.endUpTime=o()(this.filters.endUpTime).format("YYYY-MM-DD 23:59:59"));var t={currPage:this.pageNo,pageSize:this.size,orderId:this.filters.orderId,mobile:this.filters.mobile,logisticsStatus:1,startUpTime:this.filters.startUpTime,endUpTime:this.filters.endUpTime};s.a.start(),this.listLoading=!0,Object(c["b"])(t).then((function(t){if(0===t.data.code){var a=t.data.data;e.list=a.records,e.size=a.size,e.total=a.total;var l=e.list.length;0===l&&e.pageNo>1&&(e.pageNo-=1,e.getList()),e.list.map((function(e){switch(e.status){case 0:e.statusName="未发货";break;case 1:e.statusName="已发货";break;case 2:e.statusName="退货中";break;case 3:e.statusName="已退货";break}}))}else e.total=0,e.list=[],e.$message({type:"error",message:t.data.msg,duration:1e3});s.a.done(),e.listLoading=!1}))},orderOut:function(){var e={orderId:this.filters.orderId,mobile:this.filters.mobile};Object(c["B"])(e).then((function(e){var t="物流修改列表",a=document.createElement("a"),l=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));a.href=l,a.target="_blank",a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}))},handleOrderIconClick:function(){this.filters.orderId=""},handleCurrentChange:function(e){this.pageNo=e,this.getList()},handleSizeChange:function(e){this.size=e,this.getList()}}},m=d,u=a("2877"),p=Object(u["a"])(m,l,i,!1,null,"bde31e06",null);t["default"]=p.exports}}]);