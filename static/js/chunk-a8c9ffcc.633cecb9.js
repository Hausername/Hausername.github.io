(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8c9ffcc"],{"37dd":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"1rem"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:t.filters}},[a("el-form-item",{attrs:{label:"账户查询:"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearchAsync,size:"small",icon:"circle-close","on-icon-click":t.handleOrderIconClick},on:{select:t.handleSelect},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.drawLine(e)}},model:{value:t.filters.username,callback:function(e){t.$set(t.filters,"username",e)},expression:"filters.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下单时间:"}},[a("el-date-picker",{ref:"startTimeInput",attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.filters.startTime,callback:function(e){t.$set(t.filters,"startTime",e)},expression:"filters.startTime"}}),t._v("-\n        "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.filters.endTime,callback:function(e){t.$set(t.filters,"endTime",e)},expression:"filters.endTime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:function(e){return t.drawLine()}}},[t._v("查询")])],1),t._v(" "),a("br"),t._v(" "),a("el-form-item",{staticStyle:{color:"red"}},[a("p",{staticStyle:{padding:"0",margin:"0"}},[t._v("注意事项：")]),t._v(" "),a("span",[t._v("1、默认显示的是当天的号码总统计")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v("2、根据用户的选择查询当日的号码省份统计数")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v("3、根据日期查询当月、本周的号码省份统计数")])])],1)],1),t._v(" "),a("div",{staticClass:"header-file"},[a("el-header",{staticClass:"header"},[a("div",{ref:"dateinput",staticStyle:{clear:"both","text-align":"center",height:"22px"},on:{click:t.dateinputEvent}},[t._v(t._s(t.nowDate))])])],1),t._v(" "),a("el-col",{staticStyle:{position:"absolute",right:"0",top:"14rem"},attrs:{span:5}},[a("ul",{staticClass:"hint"},[a("li",[a("span",{staticClass:"amount"}),t._v("金额\n      ")]),t._v(" "),a("li",[a("span",{staticClass:"orderNumber"}),t._v("订单数\n      ")])])]),t._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"90%",height:"40rem"},attrs:{id:"myChart"}})]),t._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"tableSet"},[a("ul",{staticClass:"customTable customTableT"},[a("li",[t._v("省份")]),t._v(" "),a("li",[t._v("单数")]),t._v(" "),a("li",[t._v("金额")])]),t._v(" "),t._l(t.statistics,(function(e){return a("ul",{key:e.provinceName,staticClass:"customTable customTableBorder"},[a("li",[a("div",[t._v(t._s(e.provinceName))])]),t._v(" "),a("li",[a("div",[t._v(t._s(e.orderNumber))])]),t._v(" "),a("li",[a("div",[t._v(t._s(e.amount))])])])})),t._v(" "),a("ul",{staticClass:"customTable customTableW"},[a("li",[t._v("合计")]),t._v(" "),a("li",[t._v(t._s(this.orderNum))]),t._v(" "),a("li",[t._v(t._s(this.totalMoney))])])],2)])],1)},s=[],r=a("ade3"),n=(a("313e"),a("3139"),a("da29")),l=a("c1df"),o=a.n(l),c={name:"dataChart",data:function(){return{filters:{username:""},chartreuse:null,listLoading:!1,list:[],total:"",restaurants:[],nowDate:"",statistics:[],orderNum:"",totalMoney:""}},mounted:function(){this.drawLine(),this.getDate()},methods:{querySearchAsync:function(t,e){var a=this,i={username:this.filters.username};Object(n["xb"])(i).then((function(t){0===t.data.code&&(a.restaurants=t.data.Data,a.restaurants.map((function(t){t.value=t.username})),clearTimeout(a.timeout),a.timeout=setTimeout((function(){e(a.restaurants)}),1e3*Math.random()))}))},drawLine:function(){var t=this;null!==this.filters.startTime&&""!==this.filters.startTime&&void 0!==this.filters.startTime&&(this.filters.startTime=o()(this.filters.startTime).format("YYYY-MM-DD 00:00:00")),null!==this.filters.endTime&&""!==this.filters.endTime&&void 0!==this.filters.endTime&&(this.filters.endTime=o()(this.filters.endTime).format("YYYY-MM-DD 23:59:59"));var e={username:this.filters.username,startTime:this.filters.startTime,endTime:this.filters.endTime,operator:1};Object(n["n"])(e).then((function(e){t.statistics=e.data.list;var a=0;if(e.data.list.map((function(t){isNaN(t.orderNumber)||(a+=t.orderNumber)})),isNaN(a))return 0;t.orderNum=a;var i=0;if(e.data.list.map((function(t){isNaN(t.amount)||(i+=t.amount)})),isNaN(i))return 0;if(t.totalMoney=i,0===e.data.code){var s=t.$echarts.init(document.getElementById("myChart"));window.onresize=s.resize;var n=[],l=[],o=0;e.data.list.map((function(t){n.push(t.provinceName),l.push(t.totalCount)}));for(var c=0;c<l.length;c++)o=parseInt(o)+parseInt(l[c]),t.total=o;var u=[];u=e.data.list.map((function(t,e){var a;return a=[t.provinceName,t.amount,t.orderNumber],a[0],a})),console.log("log--",u),console.log(12,u[0][0]),console.log(34,u[0][1]),s.setOption(Object(r["a"])({color:["#6ed2f1","#ffac38"],legend:{},tooltip:{},barMaxWidth:35,dataset:{source:u},series:[{}],xAxis:{type:"category",nameLocation:"end",axisLabel:{interval:0}},yAxis:{}},"series",[{type:"bar"},{type:"bar"}]))}else t.$message({type:"error",message:e.data.msg,duration:1e3})}))},handleSelect:function(t){},handleOrderIconClick:function(){},getDate:function(){var t=this,e=(new Date).getFullYear(),a=(new Date).getMonth()+1,i=(new Date).getDate();t.nowDate=e+"-"+a+"-"+i},dateinputEvent:function(){var t=this;this.$nextTick((function(){t.$refs.startTimeInput.focus()}))}}},u=c,d=(a("9a28"),a("2877")),m=Object(d["a"])(u,i,s,!1,null,"c18d5d30",null);e["default"]=m.exports},"9a28":function(t,e,a){"use strict";var i=a("d62c"),s=a.n(i);s.a},d62c:function(t,e,a){}}]);