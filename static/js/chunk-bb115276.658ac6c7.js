(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb115276","chunk-5241b4d2"],{1770:function(e,t,a){"use strict";var l=a("e606"),i=a.n(l);i.a},"333d":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},i=[];a("c5f6");Math.easeInOutQuad=function(e,t,a,l){return e/=l/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function n(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,a){var l=n(),i=e-l,s=20,u=0;t="undefined"===typeof t?500:t;var d=function e(){u+=s;var n=Math.easeInOutQuad(u,l,i,t);r(n),u<t?o(e):a&&"function"===typeof a&&a()};d()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&s(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},d=u,c=(a("dfcf"),a("2877")),m=Object(c["a"])(d,l,i,!1,null,"ef53c196",null);t["default"]=m.exports},9686:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"1rem"}},[a("div"),e._v(" "),a("div",{staticStyle:{"margin-top":"1rem"}},[a("div",{staticClass:"mine"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"申报人手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"declarePhone",label:"兑换人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"面额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"积分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"xstatus",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"xthirdType",label:"商品来源"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"时间"}})],1)],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1),e._v(" "),a("div",{staticClass:"show"},[a("el-dialog",{attrs:{width:"40%","close-on-click-modal":!1,title:e.diaTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeDialog}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules1,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"申报号码",prop:"sbnumbe"}},["新增申报信息"===e.diaTitle?a("el-input",{attrs:{placeholder:"请输入申报号码"},model:{value:e.ruleForm.sbnumbe,callback:function(t){e.$set(e.ruleForm,"sbnumbe",t)},expression:"ruleForm.sbnumbe"}}):e._e(),e._v(" "),"编辑申报信息"===e.diaTitle?a("el-input",{attrs:{disabled:"",placeholder:"请输入申报号码"},model:{value:e.ruleForm.sbnumbe,callback:function(t){e.$set(e.ruleForm,"sbnumbe",t)},expression:"ruleForm.sbnumbe"}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"兑换号码",prop:"dhnumbe"}},[a("el-input",{attrs:{placeholder:"请输入兑换号码"},model:{value:e.ruleForm.dhnumbe,callback:function(t){e.$set(e.ruleForm,"dhnumbe",t)},expression:"ruleForm.dhnumbe"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分名称",prop:"gid"}},[a("el-select",{attrs:{placeholder:"请选择积分档"},model:{value:e.ruleForm.gid,callback:function(t){e.$set(e.ruleForm,"gid",t)},expression:"ruleForm.gid"}},e._l(e.coreLevel,(function(e){return a("el-option",{key:e.id,attrs:{label:e.gname,value:e.gid}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"套餐名称",prop:"sid"}},[a("el-select",{attrs:{placeholder:"请选择套餐名称"},model:{value:e.ruleForm.sid,callback:function(t){e.$set(e.ruleForm,"sid",t)},expression:"ruleForm.sid"}},e._l(e.packages,(function(e){return a("el-option",{key:e.id,attrs:{label:e.sname,value:e.sid}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否提交",prop:"sflag"}},[a("el-radio",{attrs:{label:1},model:{value:e.ruleForm.sflag,callback:function(t){e.$set(e.ruleForm,"sflag",t)},expression:"ruleForm.sflag"}},[e._v("申报")]),e._v(" "),a("el-radio",{attrs:{label:2},model:{value:e.ruleForm.sflag,callback:function(t){e.$set(e.ruleForm,"sflag",t)},expression:"ruleForm.sflag"}},[e._v("申报中")]),e._v(" "),a("el-radio",{attrs:{label:3},model:{value:e.ruleForm.sflag,callback:function(t){e.$set(e.ruleForm,"sflag",t)},expression:"ruleForm.sflag"}},[e._v("申报失败")]),e._v(" "),a("el-radio",{attrs:{label:4},model:{value:e.ruleForm.sflag,callback:function(t){e.$set(e.ruleForm,"sflag",t)},expression:"ruleForm.sflag"}},[e._v("申报成功")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.closeDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)])},i=[],o=(a("ac6a"),a("d815")),r=a("333d"),n=a("c1df"),s=a.n(n),u={components:{Pagination:r["default"]},data:function(){var e=function(e,t,a){console.log("验证触发了吗",t);var l=/^1[3456789]\d{9}$/;""===t?a(new Error("号码不能为空")):l.test(t)?a():a(new Error("请输入正确的手机号码                                                                   "))};return{diaTitle:"",tableData:[],coreLevel:[],packages:[],multipleSelection:[],currentPage4:4,total:0,listQuery:{page:1,limit:10,importance:void 0,title:void 0,type:void 0,sort:"+id"},dialogFormVisible:!1,ruleForm:{dhnumbe:"",sbnumbe:"",gid:"",sid:"",sflag:""},rules1:{dhnumbe:[{required:!0,message:"兑换号码不能为空"},{validator:e,trigger:"blur"}],sbnumbe:[{required:!0,message:"申报号码不能为空"},{validator:e,trigger:"blur"}],gid:[{required:!0,message:"积分名称不能为空"}],sid:[{required:!0,message:"套餐名称不能为空"}],sflag:[{required:!0,message:"提交状态不能为空"}]}}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.$axios.post(o["a"].declTable.getList,{page:this.listQuery.limit,begin:this.listQuery.page}).then((function(t){if(200===t.status){e.tableData=t.data.rows,e.tableData.map((function(e){e.createTime=s()(e.createTime).format("YYYY-MM-DD HH:mm:ss")})),console.log(t.data.total),e.total=t.data.total;var a=e.tableData.length;0===a&&e.listQuery.page>1&&(e.listQuery.page-=1,e.getList())}else e.$message({type:"error",message:t.data.msg,duration:1e3})}))},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},addMessage:function(){this.diaTitle="新增申报信息",this.dialogFormVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;"新增申报信息"===t.diaTitle?t.$axios.post(o["a"].declInfo.declInfoAdd,t.ruleForm).then((function(e){200===e.data.code?(t.$message({type:"success",message:e.data.msg,duration:1e3}),t.getList(),t.dialogFormVisible=!1):t.$message({type:"error",message:e.data.msg,duration:1e3})})):"编辑申报信息"===t.diaTitle&&t.$axios.post(o["a"].declInfo.declIOnfoEdit,t.ruleForm).then((function(e){200===e.data.code?(t.$message({type:"success",message:e.data.msg,duration:1e3}),t.getList(),t.dialogFormVisible=!1):t.$message({type:"error",message:e.data.msg,duration:1e3})}))}))},edit:function(e){this.diaTitle="编辑申报信息",this.ruleForm={did:e.did,dhnumbe:e.dhnumbe,sbnumbe:e.sbnumbe,gid:e.gid,sid:e.sid,sflag:e.sflag},this.dialogFormVisible=!0},closeDialog:function(){this.ruleForm={did:"",dhnumbe:"",sbnumbe:"",gid:"",sid:"",sflag:""},this.resetForm("ruleForm"),this.dialogFormVisible=!1},resetForm:function(e){void 0!==this.$refs[e]&&this.$refs[e].resetFields()}}},d=u,c=(a("1770"),a("2877")),m=Object(c["a"])(d,l,i,!1,null,"364b08cc",null);t["default"]=m.exports},cd86:function(e,t,a){},dfcf:function(e,t,a){"use strict";var l=a("cd86"),i=a.n(l);i.a},e606:function(e,t,a){}}]);