(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d318b34"],{4928:function(e,t,a){"use strict";var s=a("ed58"),i=a.n(s);i.a},"8a3d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"1rem"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"账户查询:"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchAsync,size:"small",icon:"circle-close","on-icon-click":e.handleOrderIconClick},on:{select:e.handleSelect},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.username,callback:function(t){e.$set(e.filters,"username",t)},expression:"filters.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下单时间:"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}}),e._v("\n        -\n        "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.search()}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"orderList01 orderList",staticStyle:{"margin-top":"1rem"},attrs:{data:e.list,align:"center","header-align":"center",size:"small","tooltip-effect":"dark",border:""}},[a("el-table-column",{attrs:{type:"index",width:"100",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"size",label:"订单总条数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phCount",label:"号码总条数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalSum",label:"总积分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"returnIntegral",label:"退货积分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"newPrice",label:"实际积分"}})],1),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"2rem"}},[a("el-col",{staticClass:"toolbar",attrs:{span:12}},[a("el-pagination",{attrs:{"page-sizes":[10,20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},i=[],r=a("323e"),n=a.n(r),l=a("c1df"),o=a.n(l),c=a("5f87"),d=a("da29"),u={name:"orderStatic",data:function(){return{filters:{username:"",startTime:null,endTime:null,sysUserId:null,orderId:null},list:[],listLoading:!1,total:0,size:10,pageNo:1}},mounted:function(){this.getList()},methods:{search:function(){this.pageNo=1,this.getList()},querySearchAsync:function(e,t){var a=this,s={username:this.filters.username};Object(d["xb"])(s).then((function(e){0===e.data.code?(a.restaurants=e.data.Data,a.restaurants.map((function(e){e.value=e.username})),clearTimeout(a.timeout),a.timeout=setTimeout((function(){t(a.restaurants)}),1e3*Math.random())):a.filters.sysUserId=null}))},getList:function(){var e=this;null!=this.filters.startTime&&(this.filters.startTime=o()(this.filters.startTime).format("YYYY-MM-DD 00:00:00")),null!=this.filters.endTime&&(this.filters.endTime=o()(this.filters.endTime).format("YYYY-MM-DD 23:59:59"));var t={currPage:this.pageNo,pageSize:this.size,username:this.filters.username,startTime:this.filters.startTime,endTime:this.filters.endTime};n.a.start(),this.listLoading=!0,Object(d["X"])(t).then((function(t){if(0===t.data.code){var a=t.data.data;e.list=a.records,e.size=a.size,e.total=a.total,e.list.map((function(e){e.newPrice=parseInt(e.totalSum-e.returnIntegral),e.payTime=Object(c["a"])(-1)}));var s=e.list.length;0===s&&e.pageNo>1&&(e.pageNo-=1,e.getList())}else e.total=0,e.list=[],e.$message({type:"error",message:t.data.msg,duration:1e3});n.a.done(),e.listLoading=!1}))},orderOut:function(){var e={username:this.filters.username,startTime:this.filters.startTime,endTime:this.filters.endTime,sysUserId:this.filters.sysUserId};orderExcelOut(e).then((function(e){var t="订单列表",a=document.createElement("a"),s=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));a.href=s,a.target="_blank",a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}))},closeDialogDetail:function(){},handleSelect:function(){},handleOrderIconClick:function(){this.filters.orderNo="",this.filters.username=""},handleCurrentChange:function(e){this.pageNo=e,this.getList()},handleSizeChange:function(e){this.size=e,this.getList()}}},m=u,f=(a("4928"),a("2877")),h=Object(f["a"])(m,s,i,!1,null,"588fbcfe",null);t["default"]=h.exports},ed58:function(e,t,a){}}]);