(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74fb8a3c","chunk-5241b4d2"],{"0ce4":function(e,t,i){"use strict";var a=i("50f2"),r=i.n(a);r.a},"1ff4":function(e,t,i){"use strict";var a=i("dd6f"),r=i.n(a);r.a},"2e08":function(e,t,i){var a=i("9def"),r=i("9744"),n=i("be13");e.exports=function(e,t,i,l){var s=String(n(e)),o=s.length,c=void 0===i?" ":String(i),u=a(t);if(u<=o||""==c)return s;var d=u-o,m=r.call(c,Math.ceil(d/c.length));return m.length>d&&(m=m.slice(0,d)),l?m+s:s+m}},"333d":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[i("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},r=[];i("c5f6");Math.easeInOutQuad=function(e,t,i,a){return e/=a/2,e<1?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function l(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,i){var a=s(),r=e-a,o=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=o;var s=Math.easeInOutQuad(c,a,r,t);l(s),c<t?n(e):i&&"function"===typeof i&&i()};u()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&o(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&o(0,800)}}},u=c,d=(i("dfcf"),i("2877")),m=Object(d["a"])(u,a,r,!1,null,"ef53c196",null);t["default"]=m.exports},"50f2":function(e,t,i){},"970a":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{padding:"1rem"}},[i("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0"},attrs:{span:24}},[i("el-form",{attrs:{inline:!0,model:e.filters}},[i("el-form-item",{attrs:{label:"客户手机号:"}},[i("el-input",{attrs:{placeholder:"客户手机号",icon:"circle-close","on-icon-click":e.handleOrderIconClick},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.mobile,callback:function(t){e.$set(e.filters,"mobile",t)},expression:"filters.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"订单编号:"}},[i("el-input",{attrs:{placeholder:"订单编号",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.orderId,callback:function(t){e.$set(e.filters,"orderId",t)},expression:"filters.orderId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"快递单号:"}},[i("el-input",{attrs:{placeholder:"RAM单号",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(t)}},model:{value:e.filters.logisticsNumber,callback:function(t){e.$set(e.filters,"logisticsNumber",t)},expression:"filters.logisticsNumber"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"退货单状态:"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:e.getList},model:{value:e.filters.status,callback:function(t){e.$set(e.filters,"status",t)},expression:"filters.status"}},e._l(e.options,(function(t){return i("el-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(e._s(t.name)+"\n                    ")])})),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"退货时间:"}},[i("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}}),e._v("\n                -\n                "),i("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getList()}}},[e._v("查询")])],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.orderOut()}}},[e._v("订单导出")])],1)],1)],1),e._v(" "),i("el-table",{attrs:{size:"small",data:e.dataList,width:"100%",border:"",align:"center"}},[i("el-table-column",{attrs:{prop:"orderId",label:"订单编号",width:"",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"subOrderId",label:"商城子编号",width:"",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"mobile",label:"客户手机号",width:"",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"sumAmount",label:"积分值",width:"",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"province",label:"号码归属地",width:"",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"acceptName",label:"收货人姓名",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"acceptMobile",label:"收货人手机号",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"productDetails",label:"商品信息",width:"300",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"logisticsNumber",label:"运单单号",width:"",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"logisticsCompany",label:"配送方式",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"address",label:"配送地址",width:"120",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"detailedAddress",label:"详细地址",width:"80",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"placeTime",label:"下单时间",width:"140",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"statusName",label:"订单状态",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"username",label:"核销人",width:"80",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"auditTime",label:"退货时间",width:"140",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"remark",label:"备注",width:"",align:"center","class-name":"notes"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[i("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(i){return e.handleUpdate(t.$index,t.row)}}})],1)]}}])})],1),e._v(" "),i("el-row",{staticStyle:{"margin-bottom":"2rem"}},[i("el-col",{staticClass:"toolbar",attrs:{span:12}},[i("el-pagination",{attrs:{"page-sizes":[10,20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"40%","close-on-click-modal":!1,title:"退货原因",center:"",visible:e.dialogFormVisibleEdit},on:{"update:visible":function(t){e.dialogFormVisibleEdit=t},close:function(t){return e.closeDialog("editForm")}}},[i("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{model:e.editForm,rules:e.editRule,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"退货原因:",prop:"remark","label-width":e.formLabelWidth}},[i("span",{staticClass:"circle"}),i("span",{staticClass:"text"},[e._v("限制 "+e._s(e.remnant)+" / 50 字以内")]),e._v(" "),i("el-input",{attrs:{type:"textarea",maxlength:"50"},on:{input:e.descInput},model:{value:e.editForm.remark,callback:function(t){e.$set(e.editForm,"remark",t)},expression:"editForm.remark"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitEditGoods("editForm")}}},[e._v("确 定")])],1)],1)],1)},r=[],n=(i("6b54"),i("f576"),i("ade3")),l=i("da29"),s=i("333d"),o=i("c1df"),c=i.n(o),u={name:"BackInfo",components:{Pagination:s["default"]},data:function(){var e;return e={filters:{currPage:null,pageSize:null,logisticsNumber:null,SKUid:null,businessNumber:null,status:null,startTime:null,endTime:null},dataList:[],options:[{name:"退货中",value:"2"},{name:"已退货",value:"3"}],total:0,size:10,pageNo:1},Object(n["a"])(e,"filters",{startTime:this.getNowTime(),endTime:this.getNowTime()}),Object(n["a"])(e,"sumAmount",0),Object(n["a"])(e,"dialogFormVisibleEdit",!1),Object(n["a"])(e,"editForm",{remark:""}),Object(n["a"])(e,"editRule",{remark:[{required:!0,message:"请输入审核原因",trigger:"blur"}]}),Object(n["a"])(e,"formLabelWidth","100px"),Object(n["a"])(e,"remnant",50),e},mounted:function(){this.getList()},methods:{getNowTime:function(){var e=new Date,t=e.getFullYear(),i=e.getMonth(),a=e.getDate(),r=" 00:00:00";i+=1,i=i.toString().padStart(2,"0"),a=a.toString().padStart(2,"0");var n="".concat(t,"-").concat(i,"-").concat(a).concat(r);return console.log(n),n},search:function(){this.pageNo=1,this.getList()},getList:function(){var e=this;null!==this.filters.startTime&&""!==this.filters.startTime&&void 0!==this.filters.startTime&&(this.filters.startTime=c()(this.filters.startTime).format("YYYY-MM-DD 00:00:00")),null!==this.filters.endTime&&""!==this.filters.endTime&&void 0!==this.filters.endTime&&(this.filters.endTime=c()(this.filters.endTime).format("YYYY-MM-DD 23:59:59"));var t={mobile:this.filters.mobile,orderId:this.filters.orderId,currPage:this.pageNo,pageSize:this.size,logisticsNumber:this.filters.logisticsNumber,status:this.filters.status,SKUid:this.filters.SKUid,businessNumber:this.filters.businessNumber,startTime:this.filters.startTime,endTime:this.filters.endTime},i=this.openLoading();Object(l["i"])(t).then((function(t){if(0===t.data.code){e.dataList=t.data.Data.records,e.dataList.map((function(t){0===t.status?t.statusName="未发货":1===t.status?t.statusName="已发货":2===t.status?t.statusName="退货中":3===t.status&&(t.statusName="已退货"),""!==t.returnTime&&null!==t.returnTime&&(t.returnTime=c()(t.returnTime).format("YYYY-MM-DD HH:mm:ss")),""!==t.auditTime&&null!==t.auditTime&&(t.auditTime=c()(t.auditTime).format("YYYY-MM-DD HH:mm:ss")),t.sumAmount=parseInt(100*t.sumAmount),console.log("log--",e.sumAmount)})),e.total=t.data.Data.total;var a=e.dataList.length;0===a&&e.page>1&&(e.page-=1,e.getList())}else e.$message({type:"error",message:t.data.msg});i.close()}))},handleOrderIconClick:function(){this.filters.orderNo=""},sp:function(e){var t=this,i={status:3,orderId:e.orderId},a=this.openLoading();Object(l["j"])(i).then((function(e){0===e.data.code?(a.close(),t.$message({type:"success",message:e.data.msg}),t.getList()):t.$message({type:"error",message:e.data.msg})}))},handleCurrentChange:function(e){this.pageNo=e,this.getList()},handleSizeChange:function(e){this.size=e,this.getList()},handleUpdate:function(e,t){this.dialogFormVisibleEdit=!0,this.editForm.orderId=t.orderId,console.log(123,e),console.log(456,t.orderId)},descInput:function(){var e=this.editForm.remark.length;this.remnant=50-e},submitEditGoods:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var i={remark:t.editForm.remark,orderId:t.editForm.orderId,status:2};console.log("aa",i.orderId),Object(l["i"])(i).then((function(e){0===e.data.code?t.$message({type:"success",message:"修改成功",duration:1e3}):t.$message({type:"error",message:e.data.msg,duration:2e3}),t.getList(),t.dialogFormVisibleEdit=!1}))}))},closeDialog:function(e){this.dialogFormVisibleEdit=!1,this.$refs[e].resetFields()},orderOut:function(){var e={mobile:this.filters.mobile,orderId:this.filters.orderId,currPage:this.pageNo,pageSize:this.size,logisticsNumber:this.filters.logisticsNumber,status:this.filters.status,businessNumber:this.filters.businessNumber,startTime:this.filters.startTime,endTime:this.filters.endTime};Object(l["h"])(e).then((function(e){var t="退货列表",i=document.createElement("a"),a=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));i.href=a,i.target="_blank",i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)}))}}},d=u,m=(i("1ff4"),i("0ce4"),i("2877")),p=Object(m["a"])(d,a,r,!1,null,"0704b365",null);t["default"]=p.exports},9744:function(e,t,i){"use strict";var a=i("4588"),r=i("be13");e.exports=function(e){var t=String(r(this)),i="",n=a(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(i+=t);return i}},cd86:function(e,t,i){},dd6f:function(e,t,i){},dfcf:function(e,t,i){"use strict";var a=i("cd86"),r=i.n(a);r.a},f576:function(e,t,i){"use strict";var a=i("5ca1"),r=i("2e08"),n=i("a25f"),l=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);a(a.P+a.F*l,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})}}]);