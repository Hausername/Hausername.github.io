(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cb4d4d1"],{"3b2b":function(e,t,a){var s=a("7726"),o=a("5dbc"),i=a("86cc").f,r=a("9093").f,l=a("aae3"),n=a("0bfb"),c=s.RegExp,d=c,u=c.prototype,m=/a/g,f=/a/g,p=new c(m)!==m;if(a("9e1e")&&(!p||a("79e5")((function(){return f[a("2b4c")("match")]=!1,c(m)!=m||c(f)==f||"/a/i"!=c(m,"i")})))){c=function(e,t){var a=this instanceof c,s=l(e),i=void 0===t;return!a&&s&&e.constructor===c&&i?e:o(p?new d(s&&!i?e.source:e,t):d((s=e instanceof c)?e.source:e,s&&i?n.call(e):t),a?this:u,c)};for(var h=function(e){e in c||i(c,e,{configurable:!0,get:function(){return d[e]},set:function(t){d[e]=t}})},b=r(d),g=0;b.length>g;)h(b[g++]);u.constructor=c,c.prototype=u,a("2aba")(s,"RegExp",c)}a("7a56")("RegExp")},"8afa":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"1rem"}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",{attrs:{label:"账户查询:"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchAsync,icon:"circle-close","on-icon-click":e.handleOrderIconClick},on:{select:e.handleSelect},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.username,callback:function(t){e.$set(e.filters,"username",t)},expression:"filters.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户手机号:"}},[a("el-input",{attrs:{placeholder:"客户手机号",icon:"circle-close","on-icon-click":e.handleOrderIconClick},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.mobile,callback:function(t){e.$set(e.filters,"mobile",t)},expression:"filters.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单编号:"}},[a("el-input",{attrs:{placeholder:"订单编号",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.orderId,callback:function(t){e.$set(e.filters,"orderId",t)},expression:"filters.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"快递单号:"}},[a("el-input",{attrs:{placeholder:"快递单号",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.logisticsNumber,callback:function(t){e.$set(e.filters,"logisticsNumber",t)},expression:"filters.logisticsNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商城子编号:"}},[a("el-input",{attrs:{placeholder:"订单编号",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.subOrderId,callback:function(t){e.$set(e.filters,"subOrderId",t)},expression:"filters.subOrderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收货人姓名:"}},[a("el-input",{attrs:{placeholder:"收货人姓名",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.acceptName,callback:function(t){e.$set(e.filters,"acceptName",t)},expression:"filters.acceptName"}})],1),e._v(" "),1==e.statusInfo?a("el-form-item",{attrs:{label:"详情地址长度:"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.search},model:{value:e.filters.detailedAddressLength,callback:function(t){e.$set(e.filters,"detailedAddressLength",t)},expression:"filters.detailedAddressLength"}},e._l(e.lenght,(function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.value}},[e._v(e._s(t.label)+"\n                    ")])})),1)],1):e._e(),e._v(" "),1==e.statusInfo?a("el-form-item",{attrs:{label:"核销状态:"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.search},model:{value:e.filters.orderVerificationStatus,callback:function(t){e.$set(e.filters,"orderVerificationStatus",t)},expression:"filters.orderVerificationStatus"}},e._l(e.orderVerificationStatus,(function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.value}},[e._v(e._s(t.label)+"\n                    ")])})),1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"订单状态:"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.search},model:{value:e.filters.orderDealStatus,callback:function(t){e.$set(e.filters,"orderDealStatus",t)},expression:"filters.orderDealStatus"}},e._l(e.orderDealStatus,(function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.value}},[e._v(e._s(t.label)+"\n                    ")])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"下单时间:"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}}),e._v("\n                -\n                "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.search()}}},[e._v("查询")])],1),e._v(" "),a("br"),e._v(" "),1==e.statusInfo?a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.downLoad()}}},[e._v("下载物流模板")])],1):e._e(),e._v(" "),1==e.statusInfo?a("el-form-item",[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,multiple:"","http-request":e.orderIn,"file-list":e.fileIn}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2"}},[e._v("订单导入")])],1)],1):e._e(),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.orderOut()}}},[e._v("订单导出")])],1),e._v(" "),1==e.statusInfo?a("el-form-item",[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,multiple:"","http-request":e.logisticIn,"file-list":e.fileIn}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2"}},[e._v("物流地址拆分")])],1)],1):e._e(),e._v(" "),1==e.statusInfo?a("el-form-item",[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,multiple:"","http-request":e.allGoods,"file-list":e.fileList}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2"}},[e._v("批量发货")])],1)],1):e._e(),e._v(" "),1==e.statusInfo?a("el-form-item",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.checkedAll,expression:"checkedAll"}],attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.allDelete()}}},[e._v("批量删除\n                ")])],1):e._e()],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"orderList",staticStyle:{"margin-top":"1rem"},attrs:{data:e.list,align:"center",size:"small","tooltip-effect":"dark",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderId",label:"订单编号",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"subOrderId",label:"商城子编号",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"客户手机号",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sumPrice",label:"积分值",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"号码归属地",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acceptName",label:"收货人姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acceptMobile",label:"收货手机号",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productDetails",label:"商品信息",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"logisticsNumber",label:"快递单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"logisticsCompany",label:"配送方式",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"配送地址",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"detailedAddress",label:"详细地址",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"placeTime",label:"下单时间",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusName",label:"订单状态",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"核销人",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"220",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status||0===t.row.status?a("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}})],1):e._e(),e._v(" "),1===t.row.status?a("el-tooltip",{attrs:{content:"物流信息",placement:"top"}},[a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-message",circle:""},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}})],1):e._e(),e._v(" "),0==t.row.status||1==t.row.status?a("el-tooltip",{attrs:{content:"申请退货",placement:"top"}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-check",circle:""},on:{click:function(a){return e.handlePost(t.$index,t.row)}}})],1):e._e(),e._v(" "),0===t.row.status?a("el-tooltip",{attrs:{content:"发货",placement:"top"}},[1==e.statusInfo?a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-upload2",circle:""},on:{click:function(a){return e.handleReset(t.$index,t.row)}}}):e._e()],1):e._e(),e._v(" "),1==e.statusInfo?a("el-tooltip",{attrs:{content:"取消订单",placement:"top"}},[0==t.row.status||1==t.row.status||2==t.row.status?a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-remove",circle:""},on:{click:function(a){return e.handleReturn(t.$index,t.row)}}}):e._e()],1):e._e()]}}])})],1),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"2rem"}},[a("el-col",{staticClass:"toolbar",attrs:{span:12}},[a("el-pagination",{attrs:{"page-sizes":[10,20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"1rem","line-height":"32px"},attrs:{offset:9,span:3}},[e._v("\n            总积分："),a("span",{staticStyle:{color:"red"}},[e._v(e._s(e.orderSums))])])],1),e._v(" "),a("el-dialog",{attrs:{width:"40%","close-on-click-modal":!1,title:"发货信息",center:"",visible:e.dialogFormVisibleGoods},on:{"update:visible":function(t){e.dialogFormVisibleGoods=t},close:function(t){return e.closeDialog("goodsForm")}}},[a("el-form",{ref:"goodsForm",staticClass:"demo-ruleForm",attrs:{model:e.goodsForm,rules:e.goodsRule,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"订单编号:",prop:"orderId","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:!0},model:{value:e.goodsForm.orderId,callback:function(t){e.$set(e.goodsForm,"orderId",t)},expression:"goodsForm.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"运单编号:",prop:"logisticsNumber","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.goodsForm.logisticsNumber,callback:function(t){e.$set(e.goodsForm,"logisticsNumber",t)},expression:"goodsForm.logisticsNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物流公司:",prop:"logisticsCompany","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.goodsForm.logisticsCompany,callback:function(t){e.$set(e.goodsForm,"logisticsCompany",t)},expression:"goodsForm.logisticsCompany"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormGoods("goodsForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"40%","close-on-click-modal":!1,title:"编辑信息",center:"",visible:e.dialogFormVisibleEdit},on:{"update:visible":function(t){e.dialogFormVisibleEdit=t},close:function(t){return e.closeDialog("editForm")}}},[a("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{model:e.editForm,rules:e.editRule,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"收货人手机号:",prop:"acceptMobile","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.acceptMobile,callback:function(t){e.$set(e.editForm,"acceptMobile",t)},expression:"editForm.acceptMobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收货人姓名:",prop:"acceptName","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.acceptName,callback:function(t){e.$set(e.editForm,"acceptName",t)},expression:"editForm.acceptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"配送地址:",prop:"address","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.address,callback:function(t){e.$set(e.editForm,"address",t)},expression:"editForm.address"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitEditGoods("editForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"wlInfo",attrs:{width:"40%","close-on-click-modal":!1,title:"物流信息",center:"",visible:e.dialogFormVisibleDetail},on:{"update:visible":function(t){e.dialogFormVisibleDetail=t},close:function(t){return e.closeDialogDetail("infoForm")}}},[e.haveInfo?a("el-timeline",{attrs:{reverse:e.reverse}},e._l(e.activities,(function(t,s){return a("el-timeline-item",{key:s,attrs:{timestamp:t.ftime}},[e._v("\n                "+e._s(t.context)+"\n            ")])})),1):a("span",[e._v("暂无物流信息")])],1)],1)},o=[],i=a("323e"),r=a.n(i),l=a("c1df"),n=a.n(l),c=a("ed08"),d=a("da29"),u=(a("da71"),{data:function(){var e=function(e,t,a){var s=/^1[3456789]\d{9}$/;""===t?a(new Error("号码不能为空")):s.test(t)?a():a(new Error("请输入正确的手机号码"))};return{filters:{username:"",mobile:null,orderDealStatus:null,orderVerificationStatus:0,startTime:null,endTime:null,orderId:null,subOrderId:null,acceptName:null,detailedAddressLength:null,logisticsNumber:null},lenght:[{value:null,label:"请选择"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"10以上"}],statusInfo:0,userInfo:"",orderDealStatus:[{value:null,label:"全部"},{value:0,label:"未发货"},{value:1,label:"已发货"},{value:2,label:"退货中"},{value:3,label:"已退货"}],orderVerificationStatus:[{value:0,label:"全部"},{value:1,label:"核销订单"},{value:2,label:"未核销订单"}],list:[],backNum:0,listLoading:!1,orderSum:0,orderSums:0,total:0,size:10,pageNo:1,checkedAll:!1,ids:[],dialogFormVisibleGoods:!1,goodsForm:{orderId:"",logisticsNumber:"",logisticsCompany:""},goodsRule:{orderId:[{required:!0,message:"请输入订单编号",trigger:"blur"}],logisticsNumber:[{required:!0,message:"请输入运单编号",trigger:"blur"}],logisticsCompany:[{required:!0,message:"请输入物流公司",trigger:"blur"}]},formLabelWidth:"120px",dialogFormVisibleEdit:!1,editForm:{orderId:"",acceptMobile:"",acceptName:"",address:"",placeTime:""},editRule:{acceptMobile:[{required:!0,message:"请输入收货人手机号"},{validator:e,trigger:"blur"}],acceptName:[{required:!0,message:"请输入收货人姓名",trigger:"blur"}],address:[{required:!0,message:"请输入配送地址",trigger:"blur"}]},dialogFormVisibleDetail:!1,fileList:[],fileIn:[],reverse:!1,activities:{context:"",ftime:""},haveInfo:!1,restaurants:[],sumPrice:0,backPrice:0}},created:function(){},mounted:function(){this.statusInfo=sessionStorage.getItem("statusInfo"),this.getList()},methods:{search:function(){this.pageNo=1,this.getList()},querySearchAsync:function(e,t){var a=this,s={username:this.filters.username};Object(d["xb"])(s).then((function(e){0===e.data.code?(a.restaurants=e.data.Data,a.restaurants.map((function(e){e.value=e.username})),clearTimeout(a.timeout),a.timeout=setTimeout((function(){t(a.restaurants)}),1e3*Math.random())):a.filters.sysUserId=null}))},handleSelect:function(e){},getList:function(){var e=this;null!=this.filters.startTime&&(this.filters.startTime=n()(this.filters.startTime).format("YYYY-MM-DD 00:00:00")),null!=this.filters.endTime&&(this.filters.endTime=n()(this.filters.endTime).format("YYYY-MM-DD 23:59:59"));var t={orderVerificationStatus:this.filters.orderVerificationStatus,currPage:this.pageNo,pageSize:this.size,username:this.filters.username,mobile:this.filters.mobile,status:this.filters.orderDealStatus,startTime:this.filters.startTime,endTime:this.filters.endTime,orderId:this.filters.orderId,subOrderId:this.filters.subOrderId,sysUserId:this.filters.sysUserId,acceptName:this.filters.acceptName,detailedAddressLength:this.filters.detailedAddressLength,logisticsNumber:this.filters.logisticsNumber};r.a.start(),this.listLoading=!0,Object(d["ib"])(t).then((function(t){if(0===t.data.code){var a=t.data.Data;e.list=a.page.records,e.size=a.page.size,e.total=a.page.total;var s=e.list.length;switch(0===s&&e.pageNo>1&&(e.pageNo-=1,e.getList()),e.filters.orderDealStatus){case 0:e.orderSums=100*a.orderSum;break;case 1:e.orderSums=100*a.orderSum;break;case 2:e.orderSums=100*a.orderSum;break;case 3:e.orderSums=100*a.orderSum;break;case null:e.orderSums=100*(a.orderSum-a.declareSum);break;case void 0:e.orderSums=100*(a.orderSum-a.declareSum);break}e.list.map((function(e){switch(e.status){case 0:e.statusName="未发货";break;case 1:e.statusName="已发货";break;case 2:e.statusName="退货中";break;case 3:e.statusName="已退货";break}e.sumPrice=parseInt(100*e.sumAmount),e.integralDeduction=parseInt(100*e.sumAmount)-parseInt(e.declareIntegral);var t=new Date(e.placeTime);e.placeTime=Object(c["b"])(t)}))}else e.total=0,e.list=[],e.$message({type:"error",message:t.data.msg,duration:1e3});r.a.done(),e.listLoading=!1}))},handleEdit:function(e,t){this.dialogFormVisibleEdit=!0,this.editForm.orderId=t.orderId,this.editForm.acceptMobile=t.acceptMobile,this.editForm.acceptName=t.acceptName,this.editForm.address=t.address,this.editForm.placeTime=t.placeTime},handlePost:function(e,t){var a=this;this.$confirm("此操作将申请退货, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={orderId:t.orderId,status:2};Object(d["j"])(e).then((function(e){0===e.data.code?(a.$message({type:"success",message:"退货成功",duration:1e3}),a.getList()):a.$message({type:"error",message:e.data.msg,duration:1e3})}))})).catch((function(){a.$message({type:"info",message:"已取消退货"})}))},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=[];e.push(t.orderId);var s={orderIds:e};Object(d["eb"])(s).then((function(e){0===e.data.code?a.$message({type:"success",message:"删除成功!",duration:100}):a.$message({type:"error",message:e.data.msg,duration:1e3}),a.getList()}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},allDelete:function(){var e=this;this.$confirm("此操作将永久删除当前选中申报记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];e.multipleSelection.map((function(e){t.push(e.orderId)}));var a={orderIds:t};Object(d["eb"])(a).then((function(t){0===t.data.code?(e.$message({type:"success",message:t.data.msg,duration:1e3}),e.getList()):e.$message({type:"error",message:t.data.msg,duration:1e3})}))}))},downLoad:function(){Object(d["x"])().then((function(e){var t="物流模板",a=document.createElement("a"),s=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));a.href=s,a.target="_blank",a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}))},orderIn:function(e){var t=this,a=new FormData;a.append("file",e.file);var s=this.openLoading();Object(d["fb"])(a).then((function(e){0===e.data.code?t.$message({type:"success",message:"订单导入成功",duration:1e3}):300===e.data.code?t.$confirm("订单未导入请查看订单是否重复","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"下载成功!"});var a=e.data.list,s={sysOrderEntitieList:a};Object(d["zb"])(s).then((function(e){var t="未导入订单",a=document.createElement("a"),s=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));a.href=s,a.target="_blank",a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}))})).catch((function(){t.$message({type:"info",message:"已取消下载"})})):t.$message({type:"error",message:e.data.msg,showClose:!0,duration:0}),s.close(),t.getList()}))},orderOut:function(){var e={orderVerificationStatus:this.filters.orderVerificationStatus,username:this.filters.username,mobile:this.filters.mobile,orderId:this.filters.orderId,logisticsNumber:this.filters.logisticsNumber,subOrderId:this.filters.subOrderId,acceptName:this.filters.acceptName,detailedAddressLength:this.filters.detailedAddressLength,status:this.filters.orderDealStatus,startTime:this.filters.startTime,endTime:this.filters.endTime};Object(d["gb"])(e).then((function(e){var t="订单列表",a=document.createElement("a"),s=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));a.href=s,a.target="_blank",a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}))},logisticIn:function(e){var t=this,a=new FormData;a.append("file",e.file);var s=this.openLoading();Object(d["k"])(a).then((function(e){if(console.log(e),200===e.status){t.$message({type:"success",message:"订单导入成功",duration:1e3});var a="物流订单列表",o=document.createElement("a"),i=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));o.href=i,o.target="_blank",o.download=a,document.body.appendChild(o),o.click(),document.body.removeChild(o)}else t.$message({type:"error",message:e.data.msg,showClose:!0,duration:0});s.close(),t.getList()}))},allGoods:function(e){var t=this,a=new FormData;a.append("file",e.file);var s=this.openLoading();Object(d["g"])(a).then((function(e){0===e.data.code?t.$message({type:"success",message:"批量发货成功",duration:1e3}):300===e.data.code?t.$confirm("数据异常或未匹配数据，请核对物流信息","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"下载成功!"});var a=[],s=[];a=e.data.map.unmatchedData,s=e.data.map.exceptionList;var o={map:{unmatchedData:a,exceptionList:s}};Object(d["yb"])(o).then((function(e){var t="异常物流反馈表",a=document.createElement("a"),s=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));a.href=s,a.target="_blank",a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}))})).catch((function(){t.$message({type:"info",message:"已取消下载"})})):t.$message({type:"error",message:e.data.msg,duration:1e3}),s.close(),t.getList()}))},handleDetail:function(e,t){var a=this;this.dialogFormVisibleDetail=!0;var s={orderId:t.orderId};Object(d["N"])(s).then((function(e){0===e.data.code?(a.activities=e.data.Data,a.haveInfo=!0):a.haveInfo=!1}))},handleSelectionChange:function(e){e.length>0?this.checkedAll=!0:this.checkedAll=!1,this.multipleSelection=e},handleReset:function(e,t){this.goodsForm.orderId=t.orderId,this.dialogFormVisibleGoods=!0},submitFormGoods:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a={orderId:t.goodsForm.orderId,logisticsNumber:t.goodsForm.logisticsNumber,logisticsCompany:t.goodsForm.logisticsCompany};Object(d["a"])(a).then((function(e){0===e.data.code?t.$message({type:"success",message:"发货成功",duration:1e3}):t.$message({type:"error",message:e.data.msg,duration:1e3}),t.getList(),t.dialogFormVisibleGoods=!1}))}))},submitEditGoods:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a={orderId:t.editForm.orderId,acceptMobile:t.editForm.acceptMobile,acceptName:t.editForm.acceptName,address:t.editForm.address,placeTime:n()(t.editForm.placeTime).format("YYYY-MM-DD HH:mm:ss")};Object(d["Cb"])(a).then((function(e){0===e.data.code?t.$message({type:"success",message:"修改成功",duration:1e3}):t.$message({type:"error",message:e.data.msg,duration:2e3}),t.getList(),t.dialogFormVisibleEdit=!1}))}))},handleReturn:function(e,t){var a=this;this.$confirm("此操作将取消订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={orderId:t.orderId,status:3};Object(d["kb"])(e).then((function(e){0===e.data.code?a.$message({type:"success",message:"订单取消成功",duration:2e3}):a.$message({type:"error",message:e.data.msg,duration:2e3}),a.getList()}))})).catch((function(){a.$message({type:"info",message:"已取消操作"})}))},closeDialog:function(e){this.dialogFormVisibleGoods=!1,this.$refs[e].resetFields()},closeDialogDetail:function(){this.dialogFormVisibleDetail=!1,this.activities=""},handleOrderIconClick:function(){this.filters.orderNo=""},handleCurrentChange:function(e){this.pageNo=e,this.getList()},handleSizeChange:function(e){this.size=e,this.getList()}}}),m=u,f=(a("a4a4"),a("2877")),p=Object(f["a"])(m,s,o,!1,null,"41d97270",null);t["default"]=p.exports},a4a4:function(e,t,a){"use strict";var s=a("ae06"),o=a.n(s);o.a},ae06:function(e,t,a){},ed08:function(e,t,a){"use strict";a("3b2b"),a("28a5"),a("a481"),a("6b54");function s(e,t){e=void 0===e?new Date:e,e="number"===typeof e?new Date(e):e,t=t||"yyyy-MM-dd HH:mm:ss";var a={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),q:Math.floor((e.getMonth()+3)/3),w:e.getDay(),H:e.getHours(),h:e.getHours()%12===0?12:e.getHours()%12,m:e.getMinutes(),s:e.getSeconds(),S:e.getMilliseconds()},s=["天","一","二","三","四","五","六"];for(var o in a)t=t.replace(new RegExp(o+"+","g"),(function(e){var t=a[o]+"";if("w"===o)return(e.length>2?"星期":"周")+s[t];for(var i=0,r=t.length;i<e.length-r;i++)t="0"+t;return 1===e.length?t:t.substring(t.length-e.length)}));return t}function o(e){var t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),o=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return t+"-"+a+"-"+s+" "+o+":"+i+":"+r}a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}))}}]);