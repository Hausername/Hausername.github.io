(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a89a660"],{"3b2b":function(e,t,l){var a=l("7726"),i=l("5dbc"),s=l("86cc").f,r=l("9093").f,n=l("aae3"),o=l("0bfb"),c=a.RegExp,u=c,d=c.prototype,m=/a/g,f=/a/g,p=new c(m)!==m;if(l("9e1e")&&(!p||l("79e5")((function(){return f[l("2b4c")("match")]=!1,c(m)!=m||c(f)==f||"/a/i"!=c(m,"i")})))){c=function(e,t){var l=this instanceof c,a=n(e),s=void 0===t;return!l&&a&&e.constructor===c&&s?e:i(p?new u(a&&!s?e.source:e,t):u((a=e instanceof c)?e.source:e,a&&s?o.call(e):t),l?this:d,c)};for(var b=function(e){e in c||s(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},h=r(u),v=0;h.length>v;)b(h[v++]);d.constructor=c,c.prototype=d,l("2aba")(a,"RegExp",c)}l("7a56")("RegExp")},a4f5:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{padding:"1rem"}},[l("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0"},attrs:{span:24}},[l("el-form",{attrs:{inline:!0,model:e.filters}},[l("el-form-item",{attrs:{label:"账户查询:"}},[l("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchAsync,icon:"circle-close","on-icon-click":e.handleOrderIconClick},on:{select:e.handleSelect},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.username,callback:function(t){e.$set(e.filters,"username",t)},expression:"filters.username"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"客户手机号:"}},[l("el-input",{attrs:{placeholder:"客户手机号",icon:"circle-close","on-icon-click":e.handleOrderIconClick},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.mobile,callback:function(t){e.$set(e.filters,"mobile",t)},expression:"filters.mobile"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"订单编号:"}},[l("el-input",{attrs:{placeholder:"订单编号",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.orderId,callback:function(t){e.$set(e.filters,"orderId",t)},expression:"filters.orderId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"快递单号:"}},[l("el-input",{attrs:{placeholder:"快递单号",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.logisticsNumber,callback:function(t){e.$set(e.filters,"logisticsNumber",t)},expression:"filters.logisticsNumber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"订单状态:"}},[l("el-select",{attrs:{placeholder:"请选择"},on:{change:e.search},model:{value:e.filters.orderDealStatus,callback:function(t){e.$set(e.filters,"orderDealStatus",t)},expression:"filters.orderDealStatus"}},e._l(e.orderDealStatus,(function(t){return l("el-option",{key:t.id,attrs:{label:t.label,value:t.value}},[e._v(e._s(t.label)+"\n                    ")])})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"商城子编号:"}},[l("el-input",{attrs:{placeholder:"订单编号",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.subOrderId,callback:function(t){e.$set(e.filters,"subOrderId",t)},expression:"filters.subOrderId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"收货人姓名:"}},[l("el-input",{attrs:{placeholder:"收货人姓名",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.acceptName,callback:function(t){e.$set(e.filters,"acceptName",t)},expression:"filters.acceptName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"下单时间:"}},[l("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}}),e._v("\n                -\n                "),l("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.search()}}},[e._v("查询")])],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.orderOut()}}},[e._v("订单导出")])],1),e._v(" "),l("br"),e._v(" "),l("el-form-item",{staticStyle:{color:"red"}},[l("p",{staticStyle:{padding:"0",margin:"0"}},[e._v("注意事项：")]),e._v(" "),l("span",[e._v("1、本页面支持2020年1月1日（包括1日）之后的快递信息查询")]),e._v(" "),l("br"),e._v(" "),l("span",[e._v("2、默认显示快递到达一天之内未签收的订单")]),e._v(" "),l("br"),e._v(" "),l("span",[e._v("3、请申报人及时通知用户签收订单")]),l("br"),e._v(" "),l("span",[e._v("4、警告：未及时通知客户签收的，会造成退单损失！！！")])])],1)],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"orderList",staticStyle:{"margin-top":"1rem"},attrs:{data:e.list,align:"center",size:"small","tooltip-effect":"dark",border:""}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{prop:"orderId",label:"订单编号",width:"110"}}),e._v(" "),l("el-table-column",{attrs:{prop:"subOrderId",label:"商城子编号",width:"110"}}),e._v(" "),l("el-table-column",{attrs:{prop:"mobile",label:"客户手机号",width:"110"}}),e._v(" "),l("el-table-column",{attrs:{prop:"sumPrice",label:"积分值",width:"80"}}),e._v(" "),l("el-table-column",{attrs:{prop:"acceptName",label:"收货人姓名",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"acceptMobile",label:"收货手机号",width:"110"}}),e._v(" "),l("el-table-column",{attrs:{prop:"productDetails",label:"商品信息",width:"200"}}),e._v(" "),l("el-table-column",{attrs:{prop:"logisticsNumber",label:"快递单号"}}),e._v(" "),l("el-table-column",{attrs:{prop:"logisticsCompany",label:"配送方式",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"address",label:"配送地址",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"detailedAddress",label:"详细地址",width:"80"}}),e._v(" "),l("el-table-column",{attrs:{prop:"placeTime",label:"下单时间",width:"140"}}),e._v(" "),l("el-table-column",{attrs:{prop:"logisticsUtime",label:"物流最新时间",width:"140"}}),e._v(" "),l("el-table-column",{attrs:{prop:"username",label:"操作人",width:"80"}}),e._v(" "),l("el-table-column",{attrs:{prop:"statusName",label:"订单状态",width:"80"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tooltip",{attrs:{content:"物流信息",placement:"top"}},[l("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-message",circle:""},on:{click:function(l){return e.handleDetail(t.$index,t.row)}}})],1)]}}])})],1),e._v(" "),l("el-row",{staticStyle:{"margin-bottom":"2rem"}},[l("el-col",{staticClass:"toolbar",attrs:{span:12}},[l("el-pagination",{attrs:{"page-sizes":[10,20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),l("el-dialog",{staticClass:"wlInfo",attrs:{width:"40%","close-on-click-modal":!1,title:"物流信息",center:"",visible:e.dialogFormVisibleDetail},on:{"update:visible":function(t){e.dialogFormVisibleDetail=t},close:function(t){return e.closeDialogDetail("infoForm")}}},[e.haveInfo?l("el-timeline",{attrs:{reverse:e.reverse}},e._l(e.activities,(function(t,a){return l("el-timeline-item",{key:a,attrs:{timestamp:t.ftime}},[e._v("\n                "+e._s(t.context)+"\n            ")])})),1):l("span",[e._v("暂无物流信息")])],1)],1)},i=[],s=l("da29"),r=l("323e"),n=l.n(r),o=l("c1df"),c=l.n(o),u=l("ed08"),d={name:"noSign",data:function(){return{filters:{username:"",mobile:null,orderId:null,logisticsNumber:null,logisticsStatus:null,subOrderId:null,acceptName:null,userId:null,startTime:"2020-01-01 00:00:00",endTime:null,orderDealStatus:5},orderDealStatus:[{value:null,label:"全部"},{value:0,label:"在途中"},{value:1,label:"已揽件"},{value:2,label:"问题件"},{value:3,label:"已签收"},{value:4,label:"已退签"},{value:5,label:"已派件"},{value:6,label:"已退回"},{value:7,label:"已转投"}],statusInfo:0,list:[],listLoading:!1,total:0,size:10,pageNo:1,dialogFormVisibleDetail:!1,reverse:!1,activities:{context:"",ftime:""},haveInfo:!1}},mounted:function(){this.statusInfo=sessionStorage.getItem("statusInfo"),this.getList()},methods:{search:function(){this.pageNo=1,this.getList()},querySearchAsync:function(e,t){var l=this,a={username:this.filters.username};Object(s["xb"])(a).then((function(e){0===e.data.code?(l.restaurants=e.data.Data,l.restaurants.map((function(e){e.value=e.username})),clearTimeout(l.timeout),l.timeout=setTimeout((function(){t(l.restaurants)}),1e3*Math.random())):l.filters.sysUserId=null}))},handleSelect:function(e){},getList:function(){var e=this;null!=this.filters.startTime&&(this.filters.startTime=c()(this.filters.startTime).format("YYYY-MM-DD 00:00:00")),null!=this.filters.endTime&&(this.filters.endTime=c()(this.filters.endTime).format("YYYY-MM-DD 23:59:59"));var t={currPage:this.pageNo,pageSize:this.size,username:this.filters.username,mobile:this.filters.mobile,startTime:this.filters.startTime,endTime:this.filters.endTime,orderId:this.filters.orderId,subOrderId:this.filters.subOrderId,sysUserId:this.filters.sysUserId,acceptName:this.filters.acceptName,logisticsNumber:this.filters.logisticsNumber,logisticsState:this.filters.orderDealStatus};n.a.start(),this.listLoading=!0,Object(s["D"])(t).then((function(t){if(0===t.data.code){var l=t.data.data;e.orderSums=100*(l.orderSum-l.declareSum),e.list=l.records,e.size=l.size,e.total=l.total;var a=e.list.length;0===a&&e.pageNo>1&&(e.pageNo-=1,e.getList()),e.list.map((function(e){switch(e.logisticsState){case-1:e.statusName="未发货";break;case 0:e.statusName="在途中";break;case 1:e.statusName="已揽件";break;case 2:e.statusName="问题件";break;case 3:e.statusName="已签收";break;case 4:e.statusName="已退签";break;case 5:e.statusName="已派件";break;case 6:e.statusName="已退回";break;case 7:e.statusName="已转投";break}e.sumPrice=parseInt(100*e.sumAmount);var t=new Date(e.placeTime);if(e.placeTime=Object(u["b"])(t),null==e.logisticsUtime)e.logisticsUtime="";else{var l=new Date(e.logisticsUtime);e.logisticsUtime=Object(u["b"])(l)}}))}else e.total=0,e.list=[],e.$message({type:"error",message:t.data.msg,duration:1e3});n.a.done(),e.listLoading=!1}))},handleDetail:function(e,t){var l=this;this.dialogFormVisibleDetail=!0;var a={orderId:t.orderId};Object(s["N"])(a).then((function(e){0===e.data.code?(l.activities=e.data.Data,l.haveInfo=!0):l.haveInfo=!1}))},orderOut:function(){null!=this.filters.startTime&&(this.filters.startTime=c()(this.filters.startTime).format("YYYY-MM-DD 00:00:00")),null!=this.filters.endTime&&(this.filters.endTime=c()(this.filters.endTime).format("YYYY-MM-DD 23:59:59"));var e={username:this.filters.username,mobile:this.filters.mobile,startTime:this.filters.startTime,endTime:this.filters.endTime,orderId:this.filters.orderId,subOrderId:this.filters.subOrderId,sysUserId:this.filters.sysUserId,acceptName:this.filters.acceptName,logisticsNumber:this.filters.logisticsNumber};Object(s["A"])(e).then((function(e){var t="订单列表",l=document.createElement("a"),a=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));l.href=a,l.target="_blank",l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}))},closeDialogDetail:function(){this.activities=""},handleOrderIconClick:function(){},handleCurrentChange:function(e){this.pageNo=e,this.getList()},handleSizeChange:function(e){this.size=e,this.getList()}}},m=d,f=l("2877"),p=Object(f["a"])(m,a,i,!1,null,"92f06070",null);t["default"]=p.exports},ed08:function(e,t,l){"use strict";l("3b2b"),l("28a5"),l("a481"),l("6b54");function a(e,t){e=void 0===e?new Date:e,e="number"===typeof e?new Date(e):e,t=t||"yyyy-MM-dd HH:mm:ss";var l={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),q:Math.floor((e.getMonth()+3)/3),w:e.getDay(),H:e.getHours(),h:e.getHours()%12===0?12:e.getHours()%12,m:e.getMinutes(),s:e.getSeconds(),S:e.getMilliseconds()},a=["天","一","二","三","四","五","六"];for(var i in l)t=t.replace(new RegExp(i+"+","g"),(function(e){var t=l[i]+"";if("w"===i)return(e.length>2?"星期":"周")+a[t];for(var s=0,r=t.length;s<e.length-r;s++)t="0"+t;return 1===e.length?t:t.substring(t.length-e.length)}));return t}function i(e){var t=e.getFullYear(),l=e.getMonth()+1,a=e.getDate(),i=e.getHours(),s=e.getMinutes(),r=e.getSeconds();return t+"-"+l+"-"+a+" "+i+":"+s+":"+r}l.d(t,"a",(function(){return a})),l.d(t,"b",(function(){return i}))}}]);