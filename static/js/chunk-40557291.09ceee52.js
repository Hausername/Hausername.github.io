(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40557291"],{"3b2b":function(e,t,l){var i=l("7726"),r=l("5dbc"),a=l("86cc").f,s=l("9093").f,o=l("aae3"),n=l("0bfb"),c=i.RegExp,d=c,u=c.prototype,m=/a/g,p=/a/g,b=new c(m)!==m;if(l("9e1e")&&(!b||l("79e5")((function(){return p[l("2b4c")("match")]=!1,c(m)!=m||c(p)==p||"/a/i"!=c(m,"i")})))){c=function(e,t){var l=this instanceof c,i=o(e),a=void 0===t;return!l&&i&&e.constructor===c&&a?e:r(b?new d(i&&!a?e.source:e,t):d((i=e instanceof c)?e.source:e,i&&a?n.call(e):t),l?this:u,c)};for(var f=function(e){e in c||a(c,e,{configurable:!0,get:function(){return d[e]},set:function(t){d[e]=t}})},h=s(d),g=0;h.length>g;)f(h[g++]);u.constructor=c,c.prototype=u,l("2aba")(i,"RegExp",c)}l("7a56")("RegExp")},d30d:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{padding:"1rem"}},[l("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0"},attrs:{span:24}},[l("el-form",{attrs:{inline:!0,model:e.filters}},[l("el-form-item",{attrs:{label:"客户手机号:"}},[l("el-input",{attrs:{placeholder:"客户手机号",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.mobile,callback:function(t){e.$set(e.filters,"mobile",t)},expression:"filters.mobile"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"订单编号:"}},[l("el-input",{attrs:{placeholder:"订单编号",icon:"circle-close","on-icon-click":e.handleOrderIconClick},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.orderId,callback:function(t){e.$set(e.filters,"orderId",t)},expression:"filters.orderId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"快递单号:"}},[l("el-input",{attrs:{placeholder:"快递单号",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.logisticsNumber,callback:function(t){e.$set(e.filters,"logisticsNumber",t)},expression:"filters.logisticsNumber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商城子编号:"}},[l("el-input",{attrs:{placeholder:"商城子编号",icon:"circle-close","on-icon-click":e.handleOrderIconClick},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.subOrderId,callback:function(t){e.$set(e.filters,"subOrderId",t)},expression:"filters.subOrderId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"收货人姓名:"}},[l("el-input",{attrs:{placeholder:"收货人姓名",icon:"circle-close"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filters.acceptName,callback:function(t){e.$set(e.filters,"acceptName",t)},expression:"filters.acceptName"}})],1),e._v(" "),1==e.statusInfo?l("el-form-item",{attrs:{label:"详情地址长度:"}},[l("el-select",{attrs:{placeholder:"请选择"},on:{change:e.search},model:{value:e.filters.detailedAddressLength,callback:function(t){e.$set(e.filters,"detailedAddressLength",t)},expression:"filters.detailedAddressLength"}},e._l(e.lenght,(function(t){return l("el-option",{key:t.id,attrs:{label:t.label,value:t.value}},[e._v(e._s(t.label)+"\n                        ")])})),1)],1):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"订单状态:"}},[l("el-select",{attrs:{placeholder:"请选择"},on:{change:e.search},model:{value:e.filters.orderDealStatus,callback:function(t){e.$set(e.filters,"orderDealStatus",t)},expression:"filters.orderDealStatus"}},e._l(e.orderDealStatus,(function(t){return l("el-option",{key:t.id,attrs:{label:t.label,value:t.value}},[e._v(e._s(t.label)+"\n                        ")])})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"下单时间:"}},[l("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}}),e._v("\n                    -\n                    "),l("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.search()}}},[e._v("查询")])],1),e._v(" "),l("br"),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.orderOut()}}},[e._v("订单导出")])],1)],1)],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"orderList",staticStyle:{"margin-top":"1rem"},attrs:{data:e.list,align:"center",size:"small",width:"100%","tooltip-effect":"dark",border:""}},[l("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),l("el-table-column",{attrs:{prop:"orderId",label:"订单编号",width:"130"}}),e._v(" "),l("el-table-column",{attrs:{prop:"subOrderId",label:"商城子编号",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{prop:"mobile",label:"客户手机号",width:"110"}}),e._v(" "),l("el-table-column",{attrs:{prop:"logisticsCompany",label:"配送方式",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"logisticsNumber",label:"快递单号",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{prop:"address",label:"配送地址",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"acceptName",label:"收货人姓名",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"mobile",label:"收货人手机号",width:"130"}}),e._v(" "),l("el-table-column",{attrs:{prop:"productAbbreviat",label:"商品"}}),e._v(" "),l("el-table-column",{attrs:{prop:"price",label:"商品金额",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"sumPrice",label:"订单总积分",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"sumAmount",label:"订单金额",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"detailedAddress",label:"详细地址",width:"80"}}),e._v(" "),l("el-table-column",{attrs:{prop:"placeTime",label:"下单时间",width:"140"}}),e._v(" "),l("el-table-column",{attrs:{prop:"statusName",label:"订单状态",width:"80"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tooltip",{staticStyle:{"text-align":"center"},attrs:{content:"编辑",placement:"top"}},[l("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(l){return e.handleSome(t.$index,t.row)}}})],1)]}}])})],1),e._v(" "),l("el-row",{staticStyle:{"margin-bottom":"2rem"}},[l("el-col",{staticClass:"toolbar",attrs:{span:12}},[l("el-pagination",{attrs:{"page-sizes":[10,20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),l("el-col",{staticStyle:{"margin-top":"1rem","line-height":"32px"},attrs:{offset:6,span:3}},[e._v("\n                总积分："),l("span",{staticStyle:{color:"red"}},[e._v(e._s(e.orderSums))])]),e._v(" "),l("el-col",{staticStyle:{"margin-top":"1rem","line-height":"32px"},attrs:{span:3}},[e._v("\n                总金额："),l("span",{staticStyle:{color:"red"}},[e._v(e._s(e.orderSum))]),e._v(" 元\n            ")])],1),e._v(" "),l("el-dialog",{attrs:{width:"40%","close-on-click-modal":!1,title:"编辑信息",center:"",visible:e.dialogFormVisibleEdit},on:{"update:visible":function(t){e.dialogFormVisibleEdit=t},close:function(t){return e.closeDialog("editForm")}}},[l("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{model:e.editForm,rules:e.editRule,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"收货人手机号:",prop:"acceptMobile","label-width":e.formLabelWidth}},[l("el-input",{model:{value:e.editForm.acceptMobile,callback:function(t){e.$set(e.editForm,"acceptMobile",t)},expression:"editForm.acceptMobile"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"收货人姓名:",prop:"acceptName","label-width":e.formLabelWidth}},[l("el-input",{model:{value:e.editForm.acceptName,callback:function(t){e.$set(e.editForm,"acceptName",t)},expression:"editForm.acceptName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"快递单号:",prop:"logisticsNumber","label-width":e.formLabelWidth}},[l("el-input",{model:{value:e.editForm.logisticsNumber,callback:function(t){e.$set(e.editForm,"logisticsNumber",t)},expression:"editForm.logisticsNumber"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"配送方式:",prop:"logisticsCompany","label-width":e.formLabelWidth}},[l("el-input",{model:{value:e.editForm.logisticsCompany,callback:function(t){e.$set(e.editForm,"logisticsCompany",t)},expression:"editForm.logisticsCompany"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"配送地址:",prop:"address","label-width":e.formLabelWidth}},[l("el-input",{model:{value:e.editForm.address,callback:function(t){e.$set(e.editForm,"address",t)},expression:"editForm.address"}})],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitEditGoods("editForm")}}},[e._v("确 定")])],1)],1)],1)},r=[],a=l("323e"),s=l.n(a),o=l("ed08"),n=l("c1df"),c=l.n(n),d=l("da29"),u={name:"waitInfo",data:function(){var e=function(e,t,l){var i=/^1[3456789]\d{9}$/;""===t?l(new Error("号码不能为空")):i.test(t)?l():l(new Error("请输入正确的手机号码"))};return{filters:{mobile:null,orderId:null,subOrderId:null,orderDealStatus:null,startTime:null,endTime:null,logisticsNumber:null,acceptName:null,detailedAddressLength:null},lenght:[{value:null,label:"请选择"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"10以上"}],statusInfo:0,orderDealStatus:[{value:null,label:"全部"},{value:0,label:"未发货"},{value:1,label:"已发货"}],list:[],listLoading:!1,total:0,size:10,pageNo:1,orderSum:0,orderSums:0,restaurants:[],fileIn:[],formLabelWidth:"120px",dialogFormVisibleEdit:!1,editForm:{orderId:"",acceptMobile:"",acceptName:"",address:"",logisticsNumber:"",logisticsCompany:"",placeTime:""},editRule:{acceptMobile:[{required:!0,message:"请输入收货人手机号"},{validator:e,trigger:"blur"}],acceptName:[{required:!0,message:"请输入收货人姓名",trigger:"blur"}],address:[{required:!0,message:"请输入配送地址",trigger:"blur"}]}}},mounted:function(){this.statusInfo=sessionStorage.getItem("statusInfo"),this.getList()},methods:{search:function(){this.pageNo=1,this.getList()},handleSelect:function(e){console.log(e)},getList:function(){var e=this;null!=this.filters.startTime&&(this.filters.startTime=c()(this.filters.startTime).format("YYYY-MM-DD 00:00:00")),null!=this.filters.endTime&&(this.filters.endTime=c()(this.filters.endTime).format("YYYY-MM-DD 23:59:59"));var t={currPage:this.pageNo,pageSize:this.size,mobile:this.filters.mobile,consignmentStatus:this.filters.orderDealStatus,orderId:this.filters.orderId,subOrderId:this.filters.subOrderId,startTime:this.filters.startTime,endTime:this.filters.endTime,acceptName:this.filters.acceptName,logisticsNumber:this.filters.logisticsNumber,detailedAddressLength:this.filters.detailedAddressLength};s.a.start(),this.listLoading=!0,Object(d["vb"])(t).then((function(t){if(0===t.data.code){var l=t.data.Data;e.orderSum=l.orderSum,e.orderSums=100*l.orderSum,e.list=l.page.records,e.size=l.page.size,e.total=l.page.total;var i=e.list.length;0===i&&e.pageNo>1&&(e.pageNo-=1,e.getList()),e.list.map((function(e){switch(e.consignmentStatus){case 0:e.statusName="未发货";break;case 1:e.statusName="已发货";break;case 2:e.statusName="退货中";break;case 3:e.statusName="已退货";break}e.sumPrice=100*e.sumAmount;var t=new Date(e.placeTime);e.placeTime=Object(o["b"])(t)}))}else e.total=0,e.list=[],e.$message({type:"error",message:t.data.msg,duration:1e3});s.a.done(),e.listLoading=!1}))},handleSome:function(e,t){this.dialogFormVisibleEdit=!0,this.editForm.orderId=t.orderId,this.editForm.acceptMobile=t.acceptMobile,this.editForm.acceptName=t.acceptName,this.editForm.address=t.address,this.editForm.logisticsNumber=t.logisticsNumber,this.editForm.logisticsCompany=t.logisticsCompany},submitEditGoods:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var l={orderId:t.editForm.orderId,acceptMobile:t.editForm.acceptMobile,acceptName:t.editForm.acceptName,address:t.editForm.address,logisticsNumber:t.editForm.logisticsNumber,logisticsCompany:t.editForm.logisticsCompany};Object(d["Fb"])(l).then((function(e){0===e.data.code?t.$message({type:"success",message:"修改成功",duration:1e3}):t.$message({type:"error",message:e.data.msg,duration:2e3}),t.getList(),t.dialogFormVisibleEdit=!1}))}))},orderIn:function(e){var t=this,l=new FormData;l.append("file",e.file);var i=this.openLoading();Object(d["hb"])(l).then((function(e){0===e.data.code?t.$message({type:"success",message:"订单导入成功",duration:1e3}):t.$message({type:"error",message:e.data.msg,showClose:!0,duration:0}),i.close(),t.getList()}))},orderOut:function(){var e={mobile:this.filters.mobile,orderId:this.filters.orderId,logisticsNumber:this.filters.logisticsNumber,subOrderId:this.filters.subOrderId,acceptName:this.filters.acceptName,detailedAddressLength:this.filters.detailedAddressLength,consignmentStatus:this.filters.orderDealStatus,startTime:this.filters.startTime,endTime:this.filters.endTime};Object(d["wb"])(e).then((function(e){var t="未核销订单",l=document.createElement("a"),i=window.URL.createObjectURL(new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}));l.href=i,l.target="_blank",l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}))},closeDialog:function(e){this.dialogFormVisibleGoods=!1,this.$refs[e].resetFields()},handleOrderIconClick:function(){this.filters.orderId=""},handleCurrentChange:function(e){this.pageNo=e,this.getList()},handleSizeChange:function(e){this.size=e,this.getList()}}},m=u,p=l("2877"),b=Object(p["a"])(m,i,r,!1,null,"674d9712",null);t["default"]=b.exports},ed08:function(e,t,l){"use strict";l("3b2b"),l("28a5"),l("a481"),l("6b54");function i(e,t){e=void 0===e?new Date:e,e="number"===typeof e?new Date(e):e,t=t||"yyyy-MM-dd HH:mm:ss";var l={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),q:Math.floor((e.getMonth()+3)/3),w:e.getDay(),H:e.getHours(),h:e.getHours()%12===0?12:e.getHours()%12,m:e.getMinutes(),s:e.getSeconds(),S:e.getMilliseconds()},i=["天","一","二","三","四","五","六"];for(var r in l)t=t.replace(new RegExp(r+"+","g"),(function(e){var t=l[r]+"";if("w"===r)return(e.length>2?"星期":"周")+i[t];for(var a=0,s=t.length;a<e.length-s;a++)t="0"+t;return 1===e.length?t:t.substring(t.length-e.length)}));return t}function r(e){var t=e.getFullYear(),l=e.getMonth()+1,i=e.getDate(),r=e.getHours(),a=e.getMinutes(),s=e.getSeconds();return t+"-"+l+"-"+i+" "+r+":"+a+":"+s}l.d(t,"a",(function(){return i})),l.d(t,"b",(function(){return r}))}}]);